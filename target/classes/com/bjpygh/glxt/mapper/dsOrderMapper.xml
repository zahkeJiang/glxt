<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	<mapper namespace="com.bjpygh.glxt.mapper.DsOrderMapper">
		<resultMap type="dsorder" id="dsorderMap">
			<id column="order_id" property="orderid" javaType="int" jdbcType="NUMERIC" />
			<result column="phone_number" property="phonenumber"/>
			<result column="order_status" property="orderstatus"/>
			<result column="ds_type" property="dstype"/>
			<result column="ds_name" property="dsname" />
			<result column="order_price" property="orderprice"/>
			<result column="train_time" property="traintime"/>
			<result column="models" property="models"/>
			<result column="order_number" property="ordernumber"/>
			<result column="address" property="address"/>
			<result column="real_name" property="realname"/>
			<result column="note" property="note"/>
			<result column="user_id" property="userid"/>
		</resultMap>
		<select id="getOrderByRealName" parameterType="string" resultMap="dsorderMap">
			select * from ds_order where real_name like '%' #{realname} '%'
		</select>
		
		<select id="getOrderById" parameterType="string" resultMap="dsorderMap">
			select * from ds_order where real_name = #{realname}
		</select>
		
		<select id="getStatusById" parameterType="string" resultType="string">
			select order_status from ds_order where user_id = #{userid}
		</select>
		
		<update id="changeStatus" parameterType="map">
			update ds_order set order_status=#{orderstatus} where order_id =#{orderid}
		</update>
		
		
	</mapper>